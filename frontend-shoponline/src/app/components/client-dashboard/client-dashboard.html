<div class="store-container">
  
  <mat-toolbar color="primary" class="navbar">
    <span class="logo-text">TechShop</span>
    
    <div class="search-container">
      <input type="text" 
             placeholder="Caută produse..." 
             [(ngModel)]="searchText" 
             (keyup)="applyFilter()"
             class="search-input">
      <mat-icon class="search-icon">search</mat-icon>
    </div>

    <span class="spacer"></span>
    
    <button mat-icon-button (click)="goToCart()" class="cart-icon-btn">
      <mat-icon [matBadge]="cartCount" matBadgeColor="warn" [matBadgeHidden]="cartCount === 0">
        shopping_cart
      </mat-icon>
    </button>

    <button mat-button (click)="logout()">
      <mat-icon>logout</mat-icon> <span class="hide-mobile">Deconectare</span>
    </button>
  </mat-toolbar>

  <div class="content">
    
    <div class="products-grid">
      <mat-card class="product-card" *ngFor="let p of filteredProducts">
        
        <div class="image-container">
            <img [src]="p.imageUrl || 'https://via.placeholder.com/300'" alt="{{ p.name }}">
        </div>

        <mat-card-header>
          <mat-card-title>{{ p.name }}</mat-card-title>
          <mat-card-subtitle>{{ p.price }} RON</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <p class="description">{{ p.description }}</p>
        </mat-card-content>

        <mat-card-actions align="end">
          <button mat-raised-button color="accent" (click)="addToCart(p)">
            <mat-icon>add_shopping_cart</mat-icon> Adaugă
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <div *ngIf="filteredProducts.length === 0" class="empty-state">
      <mat-icon class="large-icon">search_off</mat-icon>
      <p>Nu am găsit niciun produs pentru "{{ searchText }}".</p>
    </div>
  </div>
</div>